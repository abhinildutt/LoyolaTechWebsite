@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    scroll-behavior: smooth;
    cursor: none !important;
  }

  /* Smooth scroll snap */
  .snap-y {
    scroll-snap-type: y mandatory;
    -webkit-overflow-scrolling: touch;
  }
  
  .snap-start {
    scroll-snap-align: start;
  }
  
  .snap-always {
    scroll-snap-stop: always;
  }

  /* Ensure smooth snap scrolling */
  @supports (scroll-behavior: smooth) {
    .snap-y {
      scroll-behavior: smooth;
    }
  }
  
  body {
    @apply bg-gray-950 text-white antialiased;
    font-family: 'Satoshi', system-ui, -apple-system, sans-serif;
    font-weight: 300;
    overflow-x: hidden;
    cursor: none !important;
    letter-spacing: -0.02em;
  }
  
  a, button, input, textarea, select {
    cursor: none !important;
  }

  /* Respect user's motion preferences */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
  
  /* Minimal custom scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
  }
  
  ::-webkit-scrollbar-track {
    @apply bg-gray-950;
  }
  
  ::-webkit-scrollbar-thumb {
    @apply bg-gray-800 rounded-full;
    transition: background 0.3s;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    @apply bg-cyan-500;
  }

  /* Performance optimizations - GPU acceleration */
  [data-animated],
  .animate-gpu {
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
  }

  /* Only use will-change during active animations */
  [data-animated]:hover,
  [data-animated]:active {
    will-change: transform, opacity;
  }

  /* Optimize repaints */
  img, video {
    transform: translateZ(0);
  }
}

@layer utilities {
  /* Minimal gradient - lighter animation */
  .text-gradient {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 via-blue-500 to-purple-600;
    background-size: 200% auto;
  }
  
  /* Lighter glass effect */
  .glass {
    @apply bg-white/5 backdrop-blur-xl border border-white/10;
    box-shadow: 0 4px 24px 0 rgba(0, 0, 0, 0.15);
  }
  
  /* Simplified gradient background */
  .gradient-bg {
    background: linear-gradient(180deg, #030712 0%, #0c1222 50%, #030712 100%);
  }
  
  /* Glow effect */
  .glow {
    box-shadow: 0 0 20px rgba(59, 130, 246, 0.5),
                0 0 40px rgba(139, 92, 246, 0.3),
                0 0 60px rgba(236, 72, 153, 0.2);
  }
  
  /* Shimmer effect */
  .shimmer {
    background: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.1),
      transparent
    );
    background-size: 200% 100%;
    animation: shimmer 2s infinite;
  }

  /* Card reveal animation */
  .card-reveal {
    animation: cardReveal 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  /* Text reveal */
  .text-reveal {
    clip-path: polygon(0 0, 100% 0, 100% 100%, 0% 100%);
    animation: textReveal 0.8s cubic-bezier(0.77, 0, 0.175, 1);
  }

  /* Magnetic effect */
  .magnetic {
    transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  /* 3D Card effect */
  .card-3d {
    transform-style: preserve-3d;
    perspective: 1000px;
  }

  /* Noise texture */
  .noise {
    position: relative;
    overflow: hidden;
  }

  .noise::before {
    content: '';
    position: absolute;
    inset: 0;
    opacity: 0.03;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' /%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' /%3E%3C/svg%3E");
    pointer-events: none;
  }

  /* Mesh gradient */
  .mesh-gradient {
    background: 
      radial-gradient(at 27% 37%, hsla(215, 98%, 61%, 0.3) 0px, transparent 50%),
      radial-gradient(at 97% 21%, hsla(125, 98%, 72%, 0.2) 0px, transparent 50%),
      radial-gradient(at 52% 99%, hsla(354, 98%, 61%, 0.3) 0px, transparent 50%),
      radial-gradient(at 10% 29%, hsla(256, 96%, 67%, 0.3) 0px, transparent 50%),
      radial-gradient(at 97% 96%, hsla(38, 60%, 74%, 0.2) 0px, transparent 50%),
      radial-gradient(at 33% 50%, hsla(222, 67%, 73%, 0.3) 0px, transparent 50%),
      radial-gradient(at 79% 53%, hsla(343, 68%, 79%, 0.2) 0px, transparent 50%);
    animation: meshMove 20s ease infinite;
  }

  /* Backdrop filter support check */
  @supports (backdrop-filter: blur(10px)) or (-webkit-backdrop-filter: blur(10px)) {
    .glass-enhanced {
      @apply bg-white/5 backdrop-blur-xl;
      -webkit-backdrop-filter: blur(12px);
      backdrop-filter: blur(12px);
    }
  }
}

@keyframes gradient {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

@keyframes gradient-text {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

/* Smooth fade-in for images */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Pulse animation for interactive elements */
@keyframes pulse-glow {
  0%, 100% {
    box-shadow: 0 0 20px rgba(59, 130, 246, 0.4);
  }
  50% {
    box-shadow: 0 0 40px rgba(59, 130, 246, 0.8);
  }
}

@keyframes cardReveal {
  0% {
    opacity: 0;
    transform: translateY(30px) scale(0.9);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes textReveal {
  0% {
    clip-path: polygon(0 0, 0 0, 0 100%, 0% 100%);
  }
  100% {
    clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
  }
}

@keyframes meshMove {
  0%, 100% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
}

/* Float animation */
@keyframes float {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-20px);
  }
}

/* Rotate 3D */
@keyframes rotate3d {
  0% {
    transform: rotateY(0deg) rotateX(0deg);
  }
  100% {
    transform: rotateY(360deg) rotateX(360deg);
  }
}
